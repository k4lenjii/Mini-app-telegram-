<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>COFFEHAZE78üèÜüöö</title>

<script src="https://telegram.org/js/telegram-web-app.js"></script>

<style>
body {
  margin:0;
  min-height:100vh;
  font-family:Arial, sans-serif;
  color:white;
  display:flex;
  justify-content:center;
  align-items:center;
  background: url("https://print.marcdaviet.com/wp-content/uploads/2020/10/Noire-de-Peuterey-NB-1100x1649.jpg") no-repeat center center fixed;
  background-size: cover;
}

.app{
  width:100%;
  max-width:400px;
  background: rgba(15,15,15,0.9);
  border-radius:22px;
  padding:22px;
  backdrop-filter: blur(5px);
}

h1{
  text-align:center;
  font-size:24px;
  margin-bottom:20px;
  color:white;
  text-shadow: 0 0 10px black; /* contour n√©on noir */
}

h2{
  text-align:center;
  margin-bottom:15px;
}

button{
  width:100%;
  padding:14px;
  margin:8px 0;
  border:none;
  border-radius:14px;
  font-size:16px;
  font-weight:bold;
  cursor:pointer;
  color:white;
  text-shadow:0 0 5px #000;
  transition: all 0.2s ease;
}

@keyframes neonPulse {
  0% { box-shadow: 0 0 8px currentColor; }
  50% { box-shadow: 0 0 18px currentColor; }
  100% { box-shadow: 0 0 8px currentColor; }
}

.yellow{ background:#c9a400; animation:neonPulse 2s infinite; }
.darkgreen{ background:#006400; animation:neonPulse 2s infinite; }
.red{ background:#c0392b; animation:neonPulse 2s infinite; }
.green{ background:#25D366; animation:neonPulse 2s infinite; }
.gray{ background:#333; }

button:hover, button:active{ transform:scale(1.07); opacity:0.95; }

.product-card{
  background: rgba(255,255,255,0.05);
  border-radius:15px;
  padding:12px;
  text-align:center;
  margin:15px 0;
}

.product-card img{
  width:100%;
  max-width:250px;
  border-radius:12px;
  margin-bottom:10px;
  object-fit:cover;
  box-shadow:none;
}

.product-section{
  margin:15px 0;
  padding:10px;
  border-radius:12px;
  background: rgba(255,255,255,0.05);
}

.product-section h3{
  margin:8px 0;
  font-size:18px;
}

.grams{
  display:flex;
  justify-content:center;
  gap:10px;
  flex-wrap:wrap;
  margin:8px 0;
}

.gram-btn{
  padding:8px 14px;
  border-radius:10px;
  border:1px solid #aaa;
  background:transparent;
  color:white;
  cursor:pointer;
  font-weight:bold;
  transition: all 0.2s;
}

.gram-btn.active{
  background:#25D366;
  border-color:#25D366;
  transform:scale(1.1);
}
</style>
</head>

<body>
<div class="app" id="app"></div>

<script>
Telegram.WebApp.ready();

const app = document.getElementById("app");
const WHATSAPP_NUMBER = "33645681670";

let currentGram="", currentPrice="", currentProduct="", currentImage="";

/* ===== MENU ===== */
function showMenu(){
  app.innerHTML = `
    <h1>COFFEHAZE78üèÜüöö</h1>
    <button class="yellow" onclick="showCategory('Jaune Prenium üá≤üá¶üî•','https://i.imgur.com/tc39Nya.png',[['3g',10],['6g',20],['10g',30],['18g',50]])">JAUNE PATATE üá≤üá¶üî•</button>
    <button class="darkgreen" onclick="showCategory('CALI PURPLE US üá∫üá∏üî•','https://i.imgur.com/HTKlFpX.png',[['50g',300],['100g',550]])">BEUH STATE üá∫üá∏</button>
    <button class="red" onclick="showCategory('Produits Puissants ü•µüîû','https://i.imgur.com/QhnxJ6E.png',[
      {name:'Frozen Prenium üî• ‚ùÑÔ∏è', prices:[['2g',20],['5g',50],['10g',90]]},
      {name:'Static ‚ö°üî•', prices:[['2g',10],['4g',20],['10g',50],['25g',100]]},
      {name:'Piatella üçØüî•', prices:[['1g',40]]}
    ])">PRODUITS PUISSANTS ü•µüîû</button>
  `;
}

/* ===== CAT√âGORIE ===== */
function showCategory(title,img,items){
  currentProduct=title;
  currentGram="";
  currentPrice="";
  currentImage=img;

  let sections = '';
  if(title === "Produits Puissants ü•µüîû"){
    sections = items.map(item=>{
      const priceBtns = item.prices.map(p=>`<button class="gram-btn" onclick="selectGram(this,'${p[0]}',${p[1]})">${p[0]} - ${p[1]}‚Ç¨</button>`).join('');
      return `<div class="product-section">
        <h3>${item.name}</h3>
        <div class="grams">${priceBtns}</div>
      </div>`;
    }).join('');
  } else {
    sections = `<div class="grams">${items.map(g=>`<button class="gram-btn" onclick="selectGram(this,'${g[0]}',${g[1]})">${g[0]} - ${g[1]}‚Ç¨</button>`).join('')}</div>`;
  }

  app.innerHTML=`
    <h2>${title}</h2>
    <div class="product-card">
      <img src="${img}" alt="${title}">
      ${sections}
    </div>
    <button class="green" onclick="order()">Commander via WhatsApp</button>
    <button class="gray" onclick="showMenu()">‚¨Ö Retour</button>
  `;
}

/* ===== S√âLECTION ===== */
function selectGram(btn,gram,price){
  document.querySelectorAll(".gram-btn").forEach(b=>b.classList.remove("active"));
  btn.classList.add("active");
  currentGram=gram;
  currentPrice=price;
}

/* ===== COMMANDE WHATSAPP ===== */
function order(){
  if(!currentGram){ alert("Choisis un grammage"); return; }
  const message=`Commande COFFEHAZE78üèÜüöö ‚òï\nProduit : ${currentProduct}\nGrammage : ${currentGram}\nPrix : ${currentPrice}‚Ç¨`;
  const url="https://wa.me/"+WHATSAPP_NUMBER+"?text="+encodeURIComponent(message);
  window.open(url,"_blank");
}

showMenu();
</script>
</body>
</html>